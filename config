ngx_feature="http_push_module"
ngx_addon_name=ngx_http_push_module
ngx_feature_name=
ngx_feature_run=no
ngx_feature_incs=
ngx_feature_path=
ngx_feature_libs=-lmsgpack
ngx_feature_test=

_NHPM_SUBSCRIBERS_SRCS="\
  ${ngx_addon_dir}/src/subscribers/longpoll.c \
  ${ngx_addon_dir}/src/subscribers/websocket.c \
  ${ngx_addon_dir}/src/subscribers/internal.c \
  ${ngx_addon_dir}/src/subscribers/memstore.c \
"

_NHPM_REDIS_SRCS="\
  ${ngx_addon_dir}/src/hiredis/hiredis.c \
  ${ngx_addon_dir}/src/hiredis/async.c \
  ${ngx_addon_dir}/src/hiredis/sds.c \
  ${ngx_addon_dir}/src/hiredis/net.c \
"
_NHPM_REDIS_STORE_SRCS="\
  ${ngx_addon_dir}/src/store/redis/store.c \
  ${ngx_addon_dir}/src/store/redis/redis_nginx_adapter.c \
"
_NHPM_MEMORY_STORE_SRCS="\
  ${ngx_addon_dir}/src/store/memory/ipc.c \
  ${ngx_addon_dir}/src/store/memory/rbtree_util.c \
  ${ngx_addon_dir}/src/store/memory/shmem.c \
  ${ngx_addon_dir}/src/store/memory/ipc-handlers.c \
  ${ngx_addon_dir}/src/store/memory/store.c \
"

HTTP_MODULES="$HTTP_MODULES ngx_http_push_module"

CORE_INCS="$CORE_INCS \
  $ngx_addon_dir/src
"

NGX_ADDON_SRCS="$NGX_ADDON_SRCS \
  $_NHPM_REDIS_SRCS \
  ${ngx_addon_dir}/src/ngx_http_push_defs.c \
  ${ngx_addon_dir}/src/ngx_http_push_output.c \
  $_NHPM_SUBSCRIBERS_SRCS \
  $_NHPM_REDIS_STORE_SRCS \
  ${ngx_addon_dir}/src/store/spool.c \
  ${ngx_addon_dir}/src/store/ngx_rwlock.c \
  $_NHPM_MEMORY_STORE_SRCS \
  ${ngx_addon_dir}/src/ngx_http_push_module.c \
"

have=NGX_HTTP_HEADERS . auto/have
. auto/feature

CORE_LIBS="$CORE_LIBS $ngx_feature_libs"
CORE_INCS="$CORE_INCS $ngx_feature_incs"